{"ast":null,"code":"import axios from \"axios\";\nexport const createGoods = (name, cost, descript, file) => {\n  return async dispatch => {\n    try {\n      let formData = new FormData();\n      formData.append('name', name);\n      formData.append('cost', cost);\n      formData.append('descript', descript);\n      formData.append('file', file);\n      const response = await axios.post(\"http://localhost:5000/api/goods\", formData);\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const clearItem = (userId, file) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`http://localhost:5000/api/user/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const deleteGoods = file => {\n  return async dispatch => {\n    try {\n      const response = await axios.delete(`http://localhost:5000/api/goods/?id=${file.id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const buyGoods = (userId, itemId) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`http://localhost:5000/api/user/${userId}`, {\n        itemId\n      });\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const changeGoods = (id, name, cost, descript, file) => {\n  return async dispatch => {\n    try {\n      let formData = new FormData();\n      formData.append('id', id);\n      formData.append('name', name);\n      formData.append('cost', cost);\n      formData.append('descript', descript);\n      formData.append('file', file);\n      const response = await axios.put(\"http://localhost:5000/api/goods/\", formData);\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};","map":{"version":3,"sources":["F:/reactTest/app/src/actions/goods.js"],"names":["axios","createGoods","name","cost","descript","file","dispatch","formData","FormData","append","response","post","alert","data","message","e","clearItem","userId","put","headers","Authorization","localStorage","getItem","deleteGoods","delete","id","buyGoods","itemId","changeGoods"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,IAAD,EAAOC,IAAP,EAAaC,QAAb,EAAuBC,IAAvB,KAAgC;AACvD,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAG;AACC,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBP,IAAxB;AACAK,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBN,IAAxB;AACAI,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BL,QAA5B;AACAG,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBJ,IAAxB;AACA,YAAMK,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAW,iCAAX,EAA8CJ,QAA9C,CAAvB;AACAK,MAAAA,KAAK,CAACF,QAAQ,CAACG,IAAT,CAAcC,OAAf,CAAL;AACH,KARD,CAQE,OAAMC,CAAN,EAAQ;AACNH,MAAAA,KAAK,CAACG,CAAC,CAACL,QAAF,CAAWG,IAAX,CAAgBC,OAAjB,CAAL;AACH;AAEJ,GAbD;AAcH,CAfM;AAiBP,OAAO,MAAME,SAAS,GAAG,CAACC,MAAD,EAASZ,IAAT,KAAkB;AACvC,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAG;AACC,YAAMI,QAAQ,GAAG,MAAMV,KAAK,CAACkB,GAAN,CAAW,kCAAiCD,MAAO,EAAnD,EACvB;AACIE,QAAAA,OAAO,EAAC;AACJC,UAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADnD;AADZ,OADuB,CAAvB;AAMAV,MAAAA,KAAK,CAACF,QAAQ,CAACG,IAAT,CAAcC,OAAf,CAAL;AACH,KARD,CAQE,OAAMC,CAAN,EAAQ;AACNH,MAAAA,KAAK,CAACG,CAAC,CAACL,QAAF,CAAWG,IAAX,CAAgBC,OAAjB,CAAL;AACH;AACJ,GAZD;AAaH,CAdM;AAgBP,OAAO,MAAMS,WAAW,GAAIlB,IAAD,IAAU;AACjC,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAG;AACC,YAAMI,QAAQ,GAAG,MAAMV,KAAK,CAACwB,MAAN,CAAc,uCAAsCnB,IAAI,CAACoB,EAAG,EAA5D,EACvB;AACIN,QAAAA,OAAO,EAAC;AACJC,UAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADnD;AADZ,OADuB,CAAvB;AAMAV,MAAAA,KAAK,CAACF,QAAQ,CAACG,IAAT,CAAcC,OAAf,CAAL;AACH,KARD,CAQE,OAAMC,CAAN,EAAQ;AACNH,MAAAA,KAAK,CAACG,CAAC,CAACL,QAAF,CAAWG,IAAX,CAAgBC,OAAjB,CAAL;AACH;AACJ,GAZD;AAaH,CAdM;AAgBP,OAAO,MAAMY,QAAQ,GAAG,CAACT,MAAD,EAASU,MAAT,KAAoB;AACxC,SAAO,MAAMrB,QAAN,IAAkB;AACrB,QAAG;AACC,YAAMI,QAAQ,GAAG,MAAMV,KAAK,CAACkB,GAAN,CAAW,kCAAiCD,MAAO,EAAnD,EAAsD;AAACU,QAAAA;AAAD,OAAtD,CAAvB;AACAf,MAAAA,KAAK,CAACF,QAAQ,CAACG,IAAT,CAAcC,OAAf,CAAL;AACH,KAHD,CAGE,OAAMC,CAAN,EAAQ;AACNH,MAAAA,KAAK,CAACG,CAAC,CAACL,QAAF,CAAWG,IAAX,CAAgBC,OAAjB,CAAL;AACH;AAEJ,GARD;AASH,CAVM;AAYP,OAAO,MAAMc,WAAW,GAAG,CAACH,EAAD,EAAKvB,IAAL,EAAWC,IAAX,EAAiBC,QAAjB,EAA2BC,IAA3B,KAAoC;AAC3D,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAG;AACC,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAsBgB,EAAtB;AACAlB,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBP,IAAxB;AACAK,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBN,IAAxB;AACAI,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BL,QAA5B;AACAG,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBJ,IAAxB;AACA,YAAMK,QAAQ,GAAG,MAAMV,KAAK,CAACkB,GAAN,CAAU,kCAAV,EAA8CX,QAA9C,CAAvB;AACAK,MAAAA,KAAK,CAACF,QAAQ,CAACG,IAAT,CAAcC,OAAf,CAAL;AACH,KATD,CASE,OAAMC,CAAN,EAAQ;AACNH,MAAAA,KAAK,CAACG,CAAC,CAACL,QAAF,CAAWG,IAAX,CAAgBC,OAAjB,CAAL;AACH;AAEJ,GAdD;AAeH,CAhBM","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const createGoods = (name, cost, descript, file) => {\r\n    return async dispatch => {\r\n        try{\r\n            let formData = new FormData()\r\n            formData.append('name', name)\r\n            formData.append('cost', cost)\r\n            formData.append('descript', descript)\r\n            formData.append('file', file)\r\n            const response = await axios.post(\"http://localhost:5000/api/goods\", formData)\r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport const clearItem = (userId, file) => {\r\n    return async dispatch => {\r\n        try{\r\n            const response = await axios.put(`http://localhost:5000/api/user/${userId}`, \r\n            {\r\n                headers:{\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            })  \r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteGoods = (file) => {\r\n    return async dispatch => {\r\n        try{\r\n            const response = await axios.delete(`http://localhost:5000/api/goods/?id=${file.id}`, \r\n            {\r\n                headers:{\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            })  \r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n}\r\n\r\nexport const buyGoods = (userId, itemId) => {\r\n    return async dispatch => {\r\n        try{\r\n            const response = await axios.put(`http://localhost:5000/api/user/${userId}`, {itemId})\r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport const changeGoods = (id, name, cost, descript, file) => {\r\n    return async dispatch => {\r\n        try{\r\n            let formData = new FormData()\r\n            formData.append('id', id)\r\n            formData.append('name', name)\r\n            formData.append('cost', cost)\r\n            formData.append('descript', descript)\r\n            formData.append('file', file)\r\n            const response = await axios.put(\"http://localhost:5000/api/goods/\", formData)\r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}