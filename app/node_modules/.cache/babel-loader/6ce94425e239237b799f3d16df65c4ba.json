{"ast":null,"code":"import axios from \"axios\";\nexport const createGoods = (name, type, time, cost, descript, file) => {\n  return async dispatch => {\n    try {\n      console.log(time);\n      let formData = new FormData();\n      formData.append('name', name);\n      formData.append('type', type);\n      formData.append('time', time);\n      formData.append('cost', cost);\n      formData.append('descript', descript);\n      formData.append('file', file);\n      const response = await axios.post(\"http://localhost:5000/api/goods\", formData);\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const clearItem = (userId, file) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`http://localhost:5000/api/user/clear/?id=${userId}`, {\n        file\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const deleteGoods = file => {\n  return async dispatch => {\n    try {\n      const response = await axios.delete(`http://localhost:5000/api/goods/?id=${file.id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const buyGoods = (userId, itemId) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`http://localhost:5000/api/user/?id=${userId}`, {\n        itemId\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};\nexport const changeGoods = (id, name, type, time, cost, descript, file) => {\n  return async dispatch => {\n    try {\n      let formData = new FormData();\n      formData.append('id', id);\n      formData.append('name', name);\n      formData.append('type', type);\n      formData.append('time', time);\n      formData.append('cost', cost);\n      formData.append('descript', descript);\n      formData.append('file', file);\n      const response = await axios.put(\"http://localhost:5000/api/goods/\", formData);\n      alert(response.data.message);\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n};","map":{"version":3,"sources":["F:/reactTest/app/src/actions/goods.js"],"names":["axios","createGoods","name","type","time","cost","descript","file","dispatch","console","log","formData","FormData","append","response","post","alert","data","message","e","clearItem","userId","put","headers","Authorization","localStorage","getItem","deleteGoods","delete","id","buyGoods","itemId","changeGoods"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const createGoods = (name, type, time, cost, descript, file) => {\r\n    return async dispatch => {\r\n        try{\r\n            console.log(time)\r\n            let formData = new FormData()\r\n            formData.append('name', name)\r\n            formData.append('type', type)\r\n            formData.append('time', time)\r\n            formData.append('cost', cost)\r\n            formData.append('descript', descript)\r\n            formData.append('file', file)\r\n            const response = await axios.post(\"http://localhost:5000/api/goods\", formData)\r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport const clearItem = (userId, file) => {\r\n    return async dispatch => {\r\n        try{\r\n            const response = await axios.put(`http://localhost:5000/api/user/clear/?id=${userId}`, {file},\r\n            {\r\n                headers:{\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            })  \r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteGoods = (file) => {\r\n    return async dispatch => {\r\n        try{\r\n            const response = await axios.delete(`http://localhost:5000/api/goods/?id=${file.id}`, \r\n            {\r\n                headers:{\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            })  \r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n}\r\n\r\nexport const buyGoods = (userId, itemId) => {\r\n    return async dispatch => {\r\n        try{\r\n            const response = await axios.put(`http://localhost:5000/api/user/?id=${userId}`, {itemId},\r\n            {   \r\n                headers:{\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport const changeGoods = (id, name, type, time, cost, descript, file) => {\r\n    return async dispatch => {\r\n        try{\r\n            let formData = new FormData()\r\n            formData.append('id', id)\r\n            formData.append('name', name)\r\n            formData.append('type', type)\r\n            formData.append('time', time)\r\n            formData.append('cost', cost)\r\n            formData.append('descript', descript)\r\n            formData.append('file', file)\r\n            const response = await axios.put(\"http://localhost:5000/api/goods/\", formData)\r\n            alert(response.data.message)\r\n        } catch(e){\r\n            alert(e.response.data.message)\r\n        }\r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}